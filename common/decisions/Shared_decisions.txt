International_Decisions = {
	International_Scientific_Reforms = {
		allowed = {
			always = yes
		}
		custom_cost_trigger = {
			is_in_faction_with = RCR
			check_variable = {
				rings > 49999
			}
		}
		custom_cost_text = Internationale_Scientific_Reforms_loc
		visible = {
			NOT = {
				has_idea = Friendship_of_Peoples_Science_5
			}
		}
		cost = 0
		days_remove = 3
		complete_effect = {
			set_global_flag = International_Scientific_Reforms
			every_other_country = {
				limit = {
					is_in_faction_with = ROOT
					is_subject = no
				}
				country_event = shared.111
			}
		}
		remove_effect = {
			hidden_effect = {
				country_event = shared.115
			}
		}
	}
	International_Social_Reforms = {
		allowed = {
			always = yes
		}
		custom_cost_trigger = {
			is_in_faction_with = RCR
			check_variable = {
				rings > 49999
			}
		}
		custom_cost_text = Internationale_Social_Reforms_loc
		visible = {
			NOT = {
				has_idea = Friendship_of_Peoples_Welfare_Programs_5
			}
		}
		cost = 0
		days_remove = 3
		complete_effect = {
			set_global_flag = International_Social_Reforms
			every_other_country = {
				limit = {
					is_in_faction_with = ROOT
					is_subject = no
				}
				country_event = shared.111
			}
		}
		remove_effect = {
			hidden_effect = {
				country_event = shared.115
			}
		}
	}
	International_Military_Reforms = {
		allowed = {
			always = yes
		}
		custom_cost_trigger = {
			is_in_faction_with = RCR
			check_variable = {
				rings > 49999
			}
		}
		custom_cost_text = Internationale_Military_Reforms_loc
		visible = {
			NOT = {
				has_idea = Friendship_of_Peoples_Para_Bellum_5
			}
		}
		cost = 0
		days_remove = 3
		complete_effect = {
			set_global_flag = International_Military_Reforms
			every_other_country = {
				limit = {
					is_in_faction_with = ROOT
					is_subject = no
				}
				country_event = shared.111
			}
		}
		remove_effect = {
			hidden_effect = {
				country_event = shared.115
			}
		}
	}
	International_Political_Reforms = {
		allowed = {
			always = yes
		}
		custom_cost_trigger = {
			is_in_faction_with = RCR
			check_variable = {
				rings > 49999
			}
		}
		custom_cost_text = Internationale_Political_Reforms_loc
		visible = {
			NOT = {
				has_idea = Friendship_of_Peoples_Politics_5
			}
		}
		cost = 0
		days_remove = 3
		complete_effect = {
			set_global_flag = International_Political_Reforms
			every_other_country = {
				limit = {
					is_in_faction_with = ROOT
					is_subject = no
				}
				country_event = shared.111
			}
		}
		remove_effect = {
			hidden_effect = {
				country_event = shared.115
			}
		}
	}
	International_Secret_Service_Reforms = {
		allowed = {
			always = yes
		}
		custom_cost_trigger = {
			is_in_faction_with = RCR
			check_variable = {
				rings > 49999
			}
		}
		custom_cost_text = Internationale_Secret_Service_Reforms_loc
		visible = {
			NOT = {
				has_idea = Friendship_of_Peoples_Espionage_5
			}
		}
		cost = 0
		days_remove = 3
		complete_effect = {
			set_global_flag = International_Secret_Service_Reforms
			every_other_country = {
				limit = {
					is_in_faction_with = ROOT
					is_subject = no
				}
				country_event = shared.111
			}
		}
		remove_effect = {
			hidden_effect = {
				country_event = shared.115
			}
		}
	}
	International_Ask_for_Boon = {
		allowed = {
			always = yes
		}
		available = {
			is_in_faction_with = RCR
		}
		cost = 0
		days_remove = 3
		complete_effect = {
			country_event = shared.112
			every_other_country = {
				limit = {
					is_in_faction_with = ROOT
					is_subject = no
				}
				country_event = shared.111
			}
		}
		remove_effect = {
			hidden_effect = {
				country_event = shared.115
			}
		}
	}
	International_Ask_for_Infrastructure = {
		allowed = {
			always = yes
		}
		available = {
			is_in_faction_with = RCR
		}
		cost = 0
		days_remove = 3
		complete_effect = {
			var:internationale_country_chosen = {
				hidden_effect = {
					set_country_flag = Infrastructure_Project_Recipient
				}
			}
			every_other_country = {
				limit = {
					is_in_faction_with = ROOT
					is_subject = no
				}
				country_event = shared.111
			}
		}
		remove_effect = {
			hidden_effect = {
				country_event = shared.115
			}
		}
	}
	International_Foreign_Anti_War_Support = {
		allowed = {
			always = yes
		}
		available = {
			is_in_faction_with = RCR
			is_faction_leader = yes
			any_country = {
				has_idea = Leftist_Anti_War_Propaganda_1
			}
		}
		cost = 0
		days_remove = 3
		complete_effect = {
			every_other_country = {
				limit = {
					is_in_faction_with = ROOT
					is_subject = no
				}
				country_event = shared.111
			}
		}
		remove_effect = {
			hidden_effect = {
				country_event = shared.115
			}
		}
	}
	International_Invite_Country = {
		allowed = {
			always = yes
		}
		available = {
			is_in_faction_with = RCR
			is_faction_leader = yes
		}
		cost = 0
		days_remove = 3
		complete_effect = {
			hidden_effect = {
				set_global_flag = International_Invite_Country
			}
			every_other_country = {
				limit = {
					is_in_faction_with = ROOT
					is_subject = no
				}
				country_event = shared.111
			}
		}
		remove_effect = {
			hidden_effect = {
				country_event = shared.115
			}
		}
	}
	International_White_Peace = {
		allowed = {
			always = yes
		}
		available = {
			is_in_faction_with = RCR
			has_war = yes
		}
		cost = 0
		days_remove = 3
		complete_effect = {
			hidden_effect = {
				set_global_flag = International_White_Peace
			}
			every_other_country = {
				limit = {
					is_in_faction_with = ROOT
					is_subject = no
				}
				country_event = shared.111
			}
		}
		remove_effect = {
			hidden_effect = {
				country_event = shared.115
			}
		}
	}
	International_Faction_Leader_Election = {
		days_mission_timeout = 3		# TODO: 365
		available = {
			always = no
		}
		timeout_effect = {
			if = {
				limit = {
					NOT = {
						has_global_flag = Internationale_Leader_Vote_done
					}
				}
				every_country = {
					limit = {
						is_in_faction_with = RCR
					}
					clr_country_flag = Faction_Leader_Vote_is_Given
				}
				set_variable = {
					max_value_internationale_votes = -1
				}
				clear_variable = max_tag
				every_country = {
					limit = {
						is_in_faction_with = RCR
					}
					if = {
						limit = {
							check_variable = {
								Internationale_Leadership_Votes > PREV.max_value_internationale_votes
							}
						}
						set_variable = {
							PREV.max_value_internationale_votes = Internationale_Leadership_Votes
						}
						set_variable = {
							PREV.max_tag = THIS
						}
					}
					clear_variable = Internationale_Leadership_Votes
				}
				set_global_flag = Internationale_Leader_Vote_done
				var:max_tag = {
					set_faction_leader = yes
				}
			}
			hidden_effect = {
				country_event = {
					id = shared.123
					days = 1
				}
			}
		}
	}
	International_Give_Vote_in_Faction_Leader_Election = {
		available = {
			NOT = {
				has_country_flag = Faction_Leader_Vote_is_Given
			}
			NOT = {
				var:internationale_country_chosen = {
					OR = {
						is_faction_leader = yes
						is_puppet = yes
					}
				}
			}
		}
		ai_will_do = {
			base = 0
			modifier = {
				add = 10
				is_in_faction_with = RCR
			}
		}
		complete_effect = {
			var:internationale_country_chosen = {
				add_to_variable = {
					Internationale_Leadership_Votes = 1
				}
			}
			set_country_flag = Faction_Leader_Vote_is_Given
		}
	}
}

Shilov_Union_Decisions = {
	Help_With_Industrialization = {
		available = {
			num_of_civilian_factories_available_for_projects > 9
		}
		cost = Shilov_Integration_Cost
		modifier = {
			civilian_factory_use = 10
			consumer_goods_factor = 0.05
		}
		days_remove = 180
		complete_effect = {
			var:internationale_country_chosen = {
				set_country_flag = Shilov_Industrialization
			}
		}
		remove_effect = {
			every_country = {
				limit = {
					has_country_flag = Shilov_Industrialization
				}
				add_popularity = {
					ideology = neosocialism
					popularity = 0.05
				}
				random_owned_state = {
					add_extra_state_shared_building_slots = 2
					add_building_construction = {
						type = industrial_complex
						level = 2
						instant_build = yes
					}
				}
				random_owned_state = {
					add_extra_state_shared_building_slots = 2
					add_building_construction = {
						type = industrial_complex
						level = 2
						instant_build = yes
					}
				}
				random_owned_state = {
					add_extra_state_shared_building_slots = 1
					add_building_construction = {
						type = industrial_complex
						level = 1
						instant_build = yes
					}
				}
				clr_country_flag = Shilov_Industrialization
				set_country_flag = Shliov_Integration_A
			}
		}
	}
	Help_With_Militarization = {
		available = {
			num_of_civilian_factories_available_for_projects > 9
		}
		cost = 25
		modifier = {
			civilian_factory_use = 10
			consumer_goods_factor = 0.05
		}
		days_remove = 180
		complete_effect = {
			var:internationale_country_chosen = {
				set_country_flag = Shilov_Militarization
			}
		}
		remove_effect = {
			every_country = {
				limit = {
					has_country_flag = Shilov_Militarization
				}
				add_popularity = {
					ideology = neosocialism
					popularity = 0.05
				}
				random_owned_state = {
					add_extra_state_shared_building_slots = 1
					add_building_construction = {
						type = arms_factory
						level = 1
						instant_build = yes
					}
				}
				random_owned_state = {
					add_extra_state_shared_building_slots = 2
					add_building_construction = {
						type = arms_factory
						level = 2
						instant_build = yes
					}
				}
				random_owned_state = {
					add_extra_state_shared_building_slots = 2
					add_building_construction = {
						type = arms_factory
						level = 2
						instant_build = yes
					}
				}
				clr_country_flag = Shilov_Militarization
				set_country_flag = Shliov_Integration_B
			}
		}
	}
	Help_With_Political_Reforms = {
		available = {
			political_power_daily > 1
		}
		cost = 25
		modifier = {
			political_power_cost = 1
		}
		days_remove = 180
		complete_effect = {
			var:internationale_country_chosen = {
				set_country_flag = Shilov_Politics
			}
		}
		remove_effect = {
			every_country = {
				limit = {
					has_country_flag = Shilov_Politics
				}
				add_political_power = 200
				add_popularity = {
					ideology = neosocialism
					popularity = 0.25
				}
				add_stability = -0.1
				clr_country_flag = Shilov_Politics
				set_country_flag = Shliov_Integration_C
			}
		}
	}
	Help_With_Science = {
		available = {
			amount_research_slots > 4
			var:internationale_country_chosen = {
				amount_research_slots < 10
			}
		}
		cost = 25
		modifier = {
			research_speed_factor = -0.15
		}
		days_remove = 180
		complete_effect = {
			var:internationale_country_chosen = {
				set_country_flag = Shilov_Science
			}
		}
		remove_effect = {
			every_country = {
				limit = {
					has_country_flag = Shilov_Science
				}
				add_political_power = 200
				add_popularity = {
					ideology = neosocialism
					popularity = 0.05
				}
				if = {
					limit = {
						amount_research_slots < 9
					}
					add_research_slot = 2
				}
				if = {
					limit = {
						amount_research_slots = 9
					}
					add_research_slot = 1
				}
				clr_country_flag = Shilov_Science
				set_country_flag = Shliov_Integration_D
			}
		}
	}
	Leave_No_Choice = {
		available = {
			any_country = {
				AND = {
					is_in_faction_with = RCR
					has_country_flag = Shliov_Integration_A
					has_country_flag = Shliov_Integration_B
					has_country_flag = Shliov_Integration_C
					has_country_flag = Shliov_Integration_D
				}
			}
		}
		cost = 100
		days_remove = 180
		remove_effect = {
			random_country = {
				limit = {
					OR = {
						AND = {
							is_puppet_of = RCR
							has_country_flag = Shliov_Integration_A
							has_country_flag = Shliov_Integration_B
						}
						AND = {
							is_in_faction_with = RCR
							has_country_flag = Shliov_Integration_A
							has_country_flag = Shliov_Integration_B
							has_country_flag = Shliov_Integration_C
							has_country_flag = Shliov_Integration_D
						}
					}
				}
				RCR = {
					if = {
						limit = {
							NOT = {
								has_dlc = "Together for Victory"
								has_dlc = "Waking the Tiger"
							}
						}
						diplomatic_relation = {
							country = THIS
							relation = puppet
							active = yes
						}
					}
					if = {
						limit = {
							OR = {
								has_dlc = "Together for Victory"
								has_dlc = "Waking the Tiger"
							}
						}
						set_autonomy = {
							target = THIS
							autonomous_state = autonomy_integrated_puppet
							end_wars = no
							end_civil_wars = no
						}
					}
					if = {
						limit = {
							PREV = {
								is_puppet_of = RCR
							}
						}
						annex_country = {
							target = PREV
						}
						add_political_power = Shilov_Integration_Cost
					}
				}
				clr_country_flag = Shliov_Integration_A
				clr_country_flag = Shliov_Integration_B
				clr_country_flag = Shliov_Integration_C
				clr_country_flag = Shliov_Integration_D
			}
			add_to_variable = {
				Shilov_Integration_Cost = 25
			}
		}
	}
}

Test_decisions = {
	Test_1 = {
		complete_effect = {
			add_political_power = 1
		}
	}
}

Mobilization_and_Draft_Evasion = {
	Aggressive_Mobilisation_1 = {
		custom_cost_trigger = {
			OR = {
				has_idea = limited_conscription
				has_idea = extensive_conscription
				has_idea = service_by_requirement
				has_idea = all_adults_serve
				has_idea = scraping_the_barrel
			}
			check_variable = {
				Casualties_Ratio > 0.25				#0.025% of country's population is dead 
			}
			NOT = {
				has_idea = Conscription_Relaxation_Granted
			}
		}
		custom_cost_text = Aggressive_Mobilisation_1_loc
		visible = {
			NOT = {
				has_idea = Aggressive_Mobilisation_1
				has_idea = Aggressive_Mobilisation_2
				has_idea = Aggressive_Mobilisation_3
				has_idea = Aggressive_Mobilisation_4
				has_idea = Aggressive_Mobilisation_5
			}
		}
		complete_effect = {
			add_ideas = Aggressive_Mobilisation_1
		}
	}
	Aggressive_Mobilisation_2 = {
		custom_cost_trigger = {
			OR = {
				has_idea = limited_conscription
				has_idea = extensive_conscription
				has_idea = service_by_requirement
				has_idea = all_adults_serve
				has_idea = scraping_the_barrel
			}
			check_variable = {
				Casualties_Ratio > 0.5				#0.05% of country's population is dead 
			}
			NOT = {
				has_idea = Conscription_Relaxation_Granted
			}
		}
		custom_cost_text = Aggressive_Mobilisation_2_loc
		visible = {
			has_idea = Aggressive_Mobilisation_1
		}
		complete_effect = {
			swap_ideas = {
				remove_idea = Aggressive_Mobilisation_1
				add_idea = Aggressive_Mobilisation_2
			}
		}
	}
	Aggressive_Mobilisation_3 = {
		custom_cost_trigger = {
			OR = {
				has_idea = limited_conscription
				has_idea = extensive_conscription
				has_idea = service_by_requirement
				has_idea = all_adults_serve
				has_idea = scraping_the_barrel
			}
			check_variable = {
				Casualties_Ratio > 0.8				#0.8% of country's population is dead 
			}
			NOT = {
				has_idea = Conscription_Relaxation_Granted
			}
		}
		custom_cost_text = Aggressive_Mobilisation_3_loc
		visible = {
			has_idea = Aggressive_Mobilisation_2
		}
		complete_effect = {
			swap_ideas = {
				remove_idea = Aggressive_Mobilisation_2
				add_idea = Aggressive_Mobilisation_3
			}
		}
	}
	Aggressive_Mobilisation_4 = {
		custom_cost_trigger = {
			OR = {
				has_idea = limited_conscription
				has_idea = extensive_conscription
				has_idea = service_by_requirement
				has_idea = all_adults_serve
				has_idea = scraping_the_barrel
			}
			check_variable = {
				Casualties_Ratio > 1.5				#1.5% of country's population is dead 
			}
			NOT = {
				has_idea = Conscription_Relaxation_Granted
			}
		}
		custom_cost_text = Aggressive_Mobilisation_4_loc
		visible = {
			has_idea = Aggressive_Mobilisation_3
		}
		complete_effect = {
			swap_ideas = {
				remove_idea = Aggressive_Mobilisation_3
				add_idea = Aggressive_Mobilisation_4
			}
		}
	}
	Aggressive_Mobilisation_5 = {
		custom_cost_trigger = {
			OR = {
				has_idea = limited_conscription
				has_idea = extensive_conscription
				has_idea = service_by_requirement
				has_idea = all_adults_serve
				has_idea = scraping_the_barrel
			}
			check_variable = {
				Casualties_Ratio > 3				#3% of country's population is dead 
			}
			NOT = {
				has_idea = Conscription_Relaxation_Granted
			}
		}
		custom_cost_text = Aggressive_Mobilisation_5_loc
		visible = {
			has_idea = Aggressive_Mobilisation_4
		}
		complete_effect = {
			swap_ideas = {
				remove_idea = Aggressive_Mobilisation_4
				add_idea = Aggressive_Mobilisation_5
			}
		}
	}
	Draft_Evasion_Intensifies = {
		available = {
			NOT = {
				OR = {
					has_idea = Draft_Evasion_1
					has_idea = Draft_Evasion_2
					has_idea = Draft_Evasion_3
					has_idea = Draft_Evasion_4
					has_idea = Draft_Evasion_5
				}
			}
		}
		activation = {
			OR = {
				has_idea = Draft_Evasion_1
				has_idea = Draft_Evasion_2
				has_idea = Draft_Evasion_3
				has_idea = Draft_Evasion_4
				has_idea = Draft_Evasion_5
			}
		}
		visible = {
			OR = {
				has_idea = Draft_Evasion_1
				has_idea = Draft_Evasion_2
				has_idea = Draft_Evasion_3
				has_idea = Draft_Evasion_4
				has_idea = Draft_Evasion_5
			}
		}
		cancel_trigger = {
			NOT = {
				OR = {
					has_idea = Aggressive_Mobilisation_1
					has_idea = Aggressive_Mobilisation_2
					has_idea = Aggressive_Mobilisation_3
					has_idea = Aggressive_Mobilisation_4
					has_idea = Aggressive_Mobilisation_5
				}
			}
		}
		days_mission_timeout = 60
		timeout_effect = {
			if = {
				limit = {
					has_war = yes
					OR = {
						has_idea = Draft_Evasion_5
						AND = {
							has_idea = Draft_Evasion_4
							has_stability < 0.5
							has_war_support < 0.5
						}
						AND = {
							has_idea = Draft_Evasion_3
							has_stability < 0.4
							has_war_support < 0.4
						}
						AND = {
							has_idea = Draft_Evasion_2
							has_stability < 0.3
							has_war_support < 0.3
						}
						AND = {
							has_idea = Draft_Evasion_1
							has_stability < 0.2
							has_war_support < 0.2
						}
					}
				}
				country_event = shared.95
			}
			else = {
				country_event = shared.96
			}
		}
	}
	Empty_Promises = {
		available = {
			OR = {
				has_idea = Draft_Evasion_1
				has_idea = Draft_Evasion_2
				has_idea = Draft_Evasion_3
				has_idea = Draft_Evasion_4
				has_idea = Draft_Evasion_5
			}
		}
		visible = {
			OR = {
				has_idea = Draft_Evasion_1
				has_idea = Draft_Evasion_2
				has_idea = Draft_Evasion_3
				has_idea = Draft_Evasion_4
				has_idea = Draft_Evasion_5
			}
		}
		cost = 25
		days_remove = 14
		complete_effect = {
			add_days_mission_timeout = {
				mission = Draft_Evasion_Intensifies
				days = 14
			}
		}
		remove_effect = {
			add_stability = -0.02
		}
	}
	Social_Programs = {
		# Bribe the Commoners
		available = {
			OR = {
				has_idea = Draft_Evasion_1
				has_idea = Draft_Evasion_2
				has_idea = Draft_Evasion_3
				has_idea = Draft_Evasion_4
				has_idea = Draft_Evasion_5
			}
			num_of_civilian_factories_available_for_projects > 9
		}
		visible = {
			OR = {
				has_idea = Draft_Evasion_1
				has_idea = Draft_Evasion_2
				has_idea = Draft_Evasion_3
				has_idea = Draft_Evasion_4
				has_idea = Draft_Evasion_5
			}
		}
		cost = 5
		days_remove = 14
		days_re_enable = 40
		modifier = {
			civilian_factory_use = 10
		}
		complete_effect = {
			add_days_mission_timeout = {
				mission = Draft_Evasion_Intensifies
				days = 28
			}
		}
		remove_effect = {
			add_stability = 0.02
		}
	}
}
